
2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:12:08 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:12:09 [INFO ] [com.extreme.media.init.start.main(start.java:244)] ARGUMENTOS:NOT INICIAL NOT

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:12:28 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:244)] ARGUMENTOS:NOT INICIAL NOT

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:0

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060001234567814

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060001234567814.xml

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060001234567814.xml

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:29 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:29 [DEBUG] [es.mityc.javasign.i18n.I18nFactory.<clinit>(I18nFactory.java:129)] No hay fichero de configuración específico

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315OmitComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315WithComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2001/10/xml-exc-c14n#, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315ExclOmitComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2001/10/xml-exc-c14n#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315ExclWithComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2006/12/xml-c14n11, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer11_OmitComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2006/12/xml-c14n11#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer11_WithComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2000/09/xmldsig#base64, adsi.org.apache.xml.security.transforms.implementations.TransformBase64Decode)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315, adsi.org.apache.xml.security.transforms.implementations.TransformC14N)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14NWithComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2006/12/xml-c14n11, adsi.org.apache.xml.security.transforms.implementations.TransformC14N11)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2006/12/xml-c14n11#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14N11_WithComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2001/10/xml-exc-c14n#, adsi.org.apache.xml.security.transforms.implementations.TransformC14NExclusive)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2001/10/xml-exc-c14n#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14NExclusiveWithComments)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/1999/REC-xpath-19991116, adsi.org.apache.xml.security.transforms.implementations.TransformXPath)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2000/09/xmldsig#enveloped-signature, adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/1999/REC-xslt-19991116, adsi.org.apache.xml.security.transforms.implementations.TransformXSLT)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2002/04/xmldsig-filter2, adsi.org.apache.xml.security.transforms.implementations.TransformXPath2Filter)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2002/06/xmldsig-filter2, adsi.org.apache.xml.security.transforms.implementations.TransformXPath2Filter)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.providerInit(SignatureAlgorithm.java:375)] Init() called

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#dsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureDSA)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#dsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureDSA

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#rsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#rsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#hmac-sha1, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA1)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#hmac-sha1 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA1

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-md5, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSAMD5)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-md5 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSAMD5

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSARIPEMD160)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSARIPEMD160

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha256, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha256 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha384, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA384)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha384 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA384

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha512, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA512)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha512 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA512

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureECDSA$SignatureECDSASHA1)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureECDSA$SignatureECDSASHA1

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-md5, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacMD5)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-md5 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacMD5

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacRIPEMD160)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacRIPEMD160

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha256, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA256)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha256 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA256

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha384, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA384)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha384 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA384

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha512, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA512)

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha512 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA512

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP: A simple resolver for requests to HTTP space

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverBigLocalFilesystem: A simple resolver for requests to the local file system with big files

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment: A simple resolver for requests of same-document URIs

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverXPointer: A simple resolver for requests of XPointer fragents

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.RSAKeyValueResolver: Can extract RSA public keys

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.DSAKeyValueResolver: Can extract DSA public keys

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509CertificateResolver: Can extract public keys from X509 certificates

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509SKIResolver: Uses an X509v3 SubjectKeyIdentifier extension to retrieve a certificate from the storages

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.RetrievalMethodResolver: Resolves keys and certificates using ResourceResolvers

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509SubjectNameResolver: Uses an X509 SubjectName to retrieve a certificate from the storages

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509IssuerSerialResolver: Uses an X509 IssuerName and IssuerSerial to retrieve a certificate from the storages

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:365)] Now I try to bind prefixes:

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind ds to http://www.w3.org/2000/09/xmldsig#

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind xenc to http://www.w3.org/2001/04/xmlenc#

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind experimental to http://www.xmlsecurity.org/experimental#

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind dsig-xpath-old to http://www.w3.org/2002/04/xmldsig-filter2

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind dsig-xpath to http://www.w3.org/2002/06/xmldsig-filter2

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind ec to http://www.w3.org/2001/10/xml-exc-c14n#

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind xx to http://www.nue.et-inf.uni-siegen.de/~geuer-pollmann/#xpathFilter

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:387)] XX_init                             133 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:388)]   XX_prng                           0 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:389)]   XX_parsing                        10 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:390)]   XX_configure_i18n                 3 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:391)]   XX_configure_reg_c14n             16 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:392)]   XX_configure_reg_jcemapper        4 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:393)]   XX_configure_reg_keyInfo          5 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:394)]   XX_configure_reg_keyResolver      23 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:395)]   XX_configure_reg_prefixes         4 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:396)]   XX_configure_reg_resourceresolver 16 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:397)]   XX_configure_reg_sigalgos         32 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:398)]   XX_configure_reg_transforms       20 ms

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:29 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:29 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:29 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:29 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:29 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:29 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:30 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP.engineCanResolve(ResolverDirectHTTP.java:261)] quick fail for empty URIs and local ones

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverBigLocalFilesystem

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature695772-SignedProperties273358"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature695772-SignedProperties273358"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature695772-SignedProperties273358

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature695772-SignedProperties273358

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature695772-SignedProperties273358 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature695772-SignedProperties273358"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:29-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-622335"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1350124"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1350124"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1350124

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1350124 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1350124">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060001234567814</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006000</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>MARCO CARLOSAMA</razonSocialComprador>
<identificacionComprador>1708224991</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>47.91</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>47.91</baseImponible>
<valor>5.75</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>53.66</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">CONOCOTO</campoAdicional>
<campoAdicional nombre="Telefono">2346946</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:30 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo607910">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID577356" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature695772-SignedProperties273358">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>FiqM8r2JQ2oCKLCiHLSK3V977gw=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1350124">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>49g95QSCc0uvEYo0/zKOuBd618A=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-622335" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>huo5I4zmTIUBfSJQtVZRR81GKdc=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:30 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:30 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:30 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:30 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:30 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060001234567814

2018-10-28 21:12:30 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060001234567814_Sign.xml

2018-10-28 21:12:30 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:1

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060011234567811

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060011234567811.xml

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060011234567811.xml

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:31 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:31 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature623338-SignedProperties367065"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature623338-SignedProperties367065"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature623338-SignedProperties367065

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature623338-SignedProperties367065

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature623338-SignedProperties367065 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature623338-SignedProperties367065"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:31-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-235312"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1277298"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1277298"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1277298

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1277298 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1277298">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060011234567811</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006001</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>CARLOS ALBARRACIN</razonSocialComprador>
<identificacionComprador>1715402713</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>19.25</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>19.25</baseImponible>
<valor>2.31</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>1.50</propina>
<importeTotal>23.06</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">LAS CASAS</campoAdicional>
<campoAdicional nombre="Telefono">3199363</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:31 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo729434">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID246560" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature623338-SignedProperties367065">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>1OgLOYZUIkzn3TPkPypCdVjvfGk=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1277298">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>XbmOhxe3nLlej9blaXVUJXERcu0=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-235312" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Fntlj4Qk4rbHQQRq4evpYCrAObg=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:31 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060011234567811

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060011234567811_Sign.xml

2018-10-28 21:12:31 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:32 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:2

2018-10-28 21:12:32 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060021234567815

2018-10-28 21:12:32 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:32 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060021234567815.xml

2018-10-28 21:12:33 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060021234567815.xml

2018-10-28 21:12:33 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:33 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:33 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:33 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature1015682-SignedProperties609678"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature1015682-SignedProperties609678"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature1015682-SignedProperties609678

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature1015682-SignedProperties609678

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature1015682-SignedProperties609678 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature1015682-SignedProperties609678"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:33-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-886864"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1821695"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1821695"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1821695

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1821695 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1821695">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060021234567815</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006002</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>JOHANNA TORRES</razonSocialComprador>
<identificacionComprador>1716729825</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>43.84</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>43.84</baseImponible>
<valor>5.26</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>49.1</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">SANGOLQUI</campoAdicional>
<campoAdicional nombre="Telefono">0987257712</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:33 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo100319">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID939910" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature1015682-SignedProperties609678">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>53in8aAVLM00PkKq5M/aBEyj+w0=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1821695">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>bEPeXm7YYMkzsPSUfeDKHLmJ3hY=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-886864" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>hsXkwt5ds0jQP6pTya8PRBB3fnM=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:33 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:33 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060021234567815

2018-10-28 21:12:33 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060021234567815_Sign.xml

2018-10-28 21:12:33 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:3

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060031234567810

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060031234567810.xml

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060031234567810.xml

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:34 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:34 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature31446-SignedProperties285795"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature31446-SignedProperties285795"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature31446-SignedProperties285795

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature31446-SignedProperties285795

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature31446-SignedProperties285795 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature31446-SignedProperties285795"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:34-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-227735"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1667503"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1667503"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1667503

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1667503 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1667503">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060031234567810</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006003</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>HOFFEN CIA LTDA .</razonSocialComprador>
<identificacionComprador>1792253683001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>31.54</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>31.54</baseImponible>
<valor>3.78</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>35.32</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">CONOCOTO</campoAdicional>
<campoAdicional nombre="Telefono">5102103</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:34 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo361563">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID586434" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature31446-SignedProperties285795">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>lvZ3kq9zMzmF2tixYuIX32GLgSo=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1667503">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>MOmm0I7crlAEGEJyaFGaCOW8Yks=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-227735" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>sDtEeTqGC8Wx+ZMiWGU9055XTvI=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:34 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060031234567810

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060031234567810_Sign.xml

2018-10-28 21:12:34 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:4

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060041234567816

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060041234567816.xml

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060041234567816.xml

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:35 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:35 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature489313-SignedProperties826978"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature489313-SignedProperties826978"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature489313-SignedProperties826978

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature489313-SignedProperties826978

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature489313-SignedProperties826978 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature489313-SignedProperties826978"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:35-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-346449"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1735990"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1735990"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1735990

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1735990 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1735990">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060041234567816</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006004</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>DIEGO CASTILLO</razonSocialComprador>
<identificacionComprador>1708335367</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>55.10</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>55.10</baseImponible>
<valor>6.61</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>61.71</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">ALMENDROS 33</campoAdicional>
<campoAdicional nombre="Telefono">2330353</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:35 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo506921">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID134010" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature489313-SignedProperties826978">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>hIdRGGN0BuwURzNHIluz3sJH11k=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1735990">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>ZG8jEvczwE0ih3go79RAVC8lpY4=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-346449" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>t7WaCZvwoFib36wLCt+ECRZ5Rzk=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:35 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060041234567816

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060041234567816_Sign.xml

2018-10-28 21:12:35 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:5

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060051234567811

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060051234567811.xml

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060051234567811.xml

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:36 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:36 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature575959-SignedProperties365319"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature575959-SignedProperties365319"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature575959-SignedProperties365319

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature575959-SignedProperties365319

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature575959-SignedProperties365319 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature575959-SignedProperties365319"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:36-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-772599"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate186756"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate186756"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate186756

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate186756 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate186756">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060051234567811</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006005</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>VICTORIA REYES</razonSocialComprador>
<identificacionComprador>0700720394</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>57.12</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>57.12</baseImponible>
<valor>6.85</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>63.97</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">QUITO</campoAdicional>
<campoAdicional nombre="Telefono">0999045131</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:36 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo787667">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID724174" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature575959-SignedProperties365319">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>UdBsRP/JHH3OzKwcDI4AYquCEcw=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate186756">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>4kPS2i4WOfH8OuHoKeHQlHBJAGE=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-772599" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>J/uyjLzf6orbzA6P5ECBOFCzOQY=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:36 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060051234567811

2018-10-28 21:12:36 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060051234567811_Sign.xml

2018-10-28 21:12:37 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:6

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060061234567817

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060061234567817.xml

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060061234567817.xml

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:38 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:38 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature348002-SignedProperties982706"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature348002-SignedProperties982706"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature348002-SignedProperties982706

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature348002-SignedProperties982706

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature348002-SignedProperties982706 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature348002-SignedProperties982706"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:38-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-627876"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1897539"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1897539"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1897539

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1897539 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1897539">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060061234567817</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006006</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>PABLO ROLDAN</razonSocialComprador>
<identificacionComprador>1705990404</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>40.97</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>40.97</baseImponible>
<valor>4.92</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>3.00</propina>
<importeTotal>48.89</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">MONTESERRIN</campoAdicional>
<campoAdicional nombre="Telefono">2309357</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:38 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo842453">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID700369" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature348002-SignedProperties982706">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>/2O/IGtqMyR8j8/mz33LlUaDEhA=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1897539">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>yc5ZRhpSpcZHU9V7PLqVYWxGu3Q=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-627876" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>FwgsbvJK1LGsEUjvOuhMC6REzR8=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:38 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060061234567817

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060061234567817_Sign.xml

2018-10-28 21:12:38 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:7

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060071234567812

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060071234567812.xml

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060071234567812.xml

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:39 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:39 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature24520-SignedProperties646729"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature24520-SignedProperties646729"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature24520-SignedProperties646729

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature24520-SignedProperties646729

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature24520-SignedProperties646729 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature24520-SignedProperties646729"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:39-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-615171"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1299379"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1299379"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1299379

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1299379 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1299379">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060071234567812</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006007</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>NANCY CORAL</razonSocialComprador>
<identificacionComprador>1706952254</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>103.26</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>103.26</baseImponible>
<valor>12.39</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>115.65</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">CONDORCINGA OE 9118 2512140</campoAdicional>
<campoAdicional nombre="Telefono">0000000000</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:39 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo772685">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID108455" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature24520-SignedProperties646729">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>qiyXl3yOcYwptk1LreG3wgwMJ7A=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1299379">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>HaxF4gmZ0ZzZzxBJ6ktJdk+ZB8w=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-615171" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>SrHOTc5MvDuVN6EfbDzUuwcTLiw=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:39 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060071234567812

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060071234567812_Sign.xml

2018-10-28 21:12:39 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:8

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060081234567818

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060081234567818.xml

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060081234567818.xml

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:40 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:40 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature601129-SignedProperties156345"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature601129-SignedProperties156345"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature601129-SignedProperties156345

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature601129-SignedProperties156345

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature601129-SignedProperties156345 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature601129-SignedProperties156345"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:40-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-788178"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1989991"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1989991"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1989991

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1989991 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1989991">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060081234567818</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006008</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>05</tipoIdentificacionComprador>
<razonSocialComprador>ADRIANA ELIZABETH YANEZ NORIEGA</razonSocialComprador>
<identificacionComprador>1803725603</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>27.03</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>27.03</baseImponible>
<valor>3.24</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>30.27</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">CONOCOTO</campoAdicional>
<campoAdicional nombre="Telefono">2342122</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:40 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo638378">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID590145" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature601129-SignedProperties156345">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>uHg9f3HGf9i09EAJxSjKwoJhZwA=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1989991">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>LmCXq6tw9zAa/3ddoGTYeoZjd4I=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-788178" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>6bUP6dZC/2Qea2w7EB5ghnum9ug=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:40 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060081234567818

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060081234567818_Sign.xml

2018-10-28 21:12:40 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:9

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060091234567813

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060091234567813.xml

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060091234567813.xml

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:41 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:41 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature110298-SignedProperties408031"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature110298-SignedProperties408031"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature110298-SignedProperties408031

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature110298-SignedProperties408031

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature110298-SignedProperties408031 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature110298-SignedProperties408031"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:41-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-571686"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate11028948"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate11028948"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate11028948

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate11028948 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate11028948">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060091234567813</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006009</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>07</tipoIdentificacionComprador>
<razonSocialComprador>CONSUMIDOR FINAL</razonSocialComprador>
<identificacionComprador>9999999999999</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>73.45</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>73.45</baseImponible>
<valor>8.81</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>9.00</propina>
<importeTotal>91.26</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">N/A</campoAdicional>
<campoAdicional nombre="Telefono">0000000000</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:41 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo35475">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID39929" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature110298-SignedProperties408031">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>ns3InK57GXn5Esuy/p6kWu5UjFc=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate11028948">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>AM4P6uHdIPhrgMFofv2j78pymrg=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-571686" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>RbwWggAmbGm7dJAx7WWmIdu2uG0=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:41 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060091234567813

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060091234567813_Sign.xml

2018-10-28 21:12:41 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:10

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060101234567819

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060101234567819.xml

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060101234567819.xml

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:42 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:42 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature83229-SignedProperties360083"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature83229-SignedProperties360083"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature83229-SignedProperties360083

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature83229-SignedProperties360083

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature83229-SignedProperties360083 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature83229-SignedProperties360083"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:42-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-237437"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1760714"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1760714"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1760714

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1760714 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1760714">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060101234567819</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006010</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>CESAR IZURIETA</razonSocialComprador>
<identificacionComprador>1705127536001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>33.99</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>33.99</baseImponible>
<valor>4.08</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>38.07</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">ALEMANIA E3.57</campoAdicional>
<campoAdicional nombre="Telefono">2463490</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:42 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo915718">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID1025047" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature83229-SignedProperties360083">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>IIdBH8LZJ+SVxCC+HglY7ffYatI=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1760714">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Ost5FRwhB0SotbjIJK4ZYc79KKo=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-237437" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>I4rOKSKymjeDTE51xeN9hx/M94E=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:42 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:42 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060101234567819

2018-10-28 21:12:43 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060101234567819_Sign.xml

2018-10-28 21:12:43 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:11

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060111234567814

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060111234567814.xml

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060111234567814.xml

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:44 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:44 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature1015609-SignedProperties146781"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature1015609-SignedProperties146781"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature1015609-SignedProperties146781

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature1015609-SignedProperties146781

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature1015609-SignedProperties146781 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature1015609-SignedProperties146781"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:44-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-2260"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1960002"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1960002"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1960002

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1960002 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1960002">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060111234567814</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006011</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>SILVANA BASTIDAS</razonSocialComprador>
<identificacionComprador>1709345118001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>50.41</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>50.41</baseImponible>
<valor>6.05</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>56.46</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">N/A</campoAdicional>
<campoAdicional nombre="Telefono">0000000000</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:44 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo1041646">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID64614" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature1015609-SignedProperties146781">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>iMwos7REVs8+qedmAJKQJmi1lAQ=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1960002">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>6GpuvrFC/Wn28ZpGAMfiOYkRpD4=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-2260" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>TWfXYAmvtYfbmizYaPdyjNjJx/s=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:44 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060111234567814

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060111234567814_Sign.xml

2018-10-28 21:12:44 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:12

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060121234567811

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060121234567811.xml

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060121234567811.xml

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:45 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:45 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature829353-SignedProperties429961"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature829353-SignedProperties429961"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature829353-SignedProperties429961

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature829353-SignedProperties429961

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature829353-SignedProperties429961 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature829353-SignedProperties429961"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:45-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-395470"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1123852"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1123852"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1123852

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1123852 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1123852">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON XAVIER MORETA ESCOBAR</razonSocial>
<nombreComercial>EDISON XAVIER MORETA ESCOBAR</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060121234567811</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006012</secuencial>
<dirMatriz>AV. ILALO Y GRIVALDO MINO</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y GRIVALDO MINO</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>07</tipoIdentificacionComprador>
<razonSocialComprador>CONSUMIDOR FINAL</razonSocialComprador>
<identificacionComprador>9999999999999</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>26.22</totalSinImpuestos>
<totalDescuento>0.00</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>26.22</baseImponible>
<valor>3.15</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>0.00</propina>
<importeTotal>29.37</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">N/A</campoAdicional>
<campoAdicional nombre="Telefono">0000000000</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:45 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo589372">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID657409" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature829353-SignedProperties429961">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Reb+EoqIwGyMxe4ycuVovM7pK98=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1123852">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>gXrd10MdjsCdogSe/gjli5x/AeA=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-395470" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>+wmVfPpspFiyAuqpOAQ01ODJPBU=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:45 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060121234567811

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060121234567811_Sign.xml

2018-10-28 21:12:45 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA43CLAVE ACCESO REGISTRADAERROR

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:13

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060261234567816

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060261234567816.xml

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060261234567816.xml

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:46 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:46 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature62963-SignedProperties778790"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature62963-SignedProperties778790"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature62963-SignedProperties778790

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature62963-SignedProperties778790

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature62963-SignedProperties778790 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature62963-SignedProperties778790"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:46-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-375579"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1322679"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1322679"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1322679

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1322679 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1322679">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060261234567816</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006026</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>SEBASTIAN;BRACHO</razonSocialComprador>
<identificacionComprador>1707627731001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>25.23</totalSinImpuestos>
<totalDescuento>25.23</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>25.23</baseImponible>
<valor>3.03</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.52</propina>
<importeTotal>30.78</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">GUANGUILTAGUA N37-04</campoAdicional>
<campoAdicional nombre="Telefono">2250988</campoAdicional>
<campoAdicional nombre="Email">UDLA966369@HOTMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:46 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo397223">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID739690" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature62963-SignedProperties778790">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>9KzUVXvrSWDoHkWPEDynafHA4VY=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1322679">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>4q7mr0YK4RaT3tq8/tNA4854H1U=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-375579" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>CDi6gHDAppZoqM75e64GrblQvMc=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:46 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060261234567816

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060261234567816_Sign.xml

2018-10-28 21:12:46 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:14

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060271234567811

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060271234567811.xml

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060271234567811.xml

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:47 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:47 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature611783-SignedProperties987808"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature611783-SignedProperties987808"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature611783-SignedProperties987808

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature611783-SignedProperties987808

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature611783-SignedProperties987808 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature611783-SignedProperties987808"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:47-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-367917"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1168412"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1168412"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1168412

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1168412 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1168412">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060271234567811</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006027</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>PLUS MEDICAL;SERVICE</razonSocialComprador>
<identificacionComprador>1791903927001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>27.04</totalSinImpuestos>
<totalDescuento>27.05</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>27.04</baseImponible>
<valor>3.24</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.70</propina>
<importeTotal>32.98</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">AMAZONAS</campoAdicional>
<campoAdicional nombre="Telefono">6022233</campoAdicional>
<campoAdicional nombre="Email">MONICA.YUMISACA@PLUSMEDICAL.COM.EC</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:47 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo301114">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID512021" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature611783-SignedProperties987808">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>IYBmQ+WdvovHj8iGeCgEE9gnYoI=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1168412">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>nG+rIQCaXR/V2f+eccXNmZgPrkA=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-367917" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>a+V4lBaf1HmGeCvzdoljJ+NxOy0=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:47 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060271234567811

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060271234567811_Sign.xml

2018-10-28 21:12:47 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:15

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060281234567817

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060281234567817.xml

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060281234567817.xml

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:48 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:48 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature73499-SignedProperties827026"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature73499-SignedProperties827026"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature73499-SignedProperties827026

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature73499-SignedProperties827026

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature73499-SignedProperties827026 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature73499-SignedProperties827026"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:48-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-856181"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1362142"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1362142"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1362142

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1362142 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1362142">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060281234567817</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006028</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>PUBLIMUNDO ECUADOR;.</razonSocialComprador>
<identificacionComprador>1710607084001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>26.22</totalSinImpuestos>
<totalDescuento>26.22</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>26.22</baseImponible>
<valor>3.15</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.62</propina>
<importeTotal>31.99</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">DE LAS CAMELIAS</campoAdicional>
<campoAdicional nombre="Telefono">0999714134</campoAdicional>
<campoAdicional nombre="Email">PUDLIMUNDOECUADOR@GMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:48 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo845768">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID684423" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature73499-SignedProperties827026">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Usoa2A6r9P3Mqsv1ez7V6oM7MMQ=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1362142">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Rw/r3TRHOAM//JMWDmr966YqiV8=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-856181" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>vdFcwgNFJ9hcpgP8YBg7irCu/I0=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:48 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:48 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060281234567817

2018-10-28 21:12:49 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060281234567817_Sign.xml

2018-10-28 21:12:49 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:16

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060291234567812

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060291234567812.xml

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060291234567812.xml

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:50 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:50 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature724927-SignedProperties931940"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature724927-SignedProperties931940"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature724927-SignedProperties931940

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature724927-SignedProperties931940

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature724927-SignedProperties931940 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature724927-SignedProperties931940"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:50-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-15146"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate11028621"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate11028621"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate11028621

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate11028621 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate11028621">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060291234567812</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006029</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>JORGE;LOPEZ</razonSocialComprador>
<identificacionComprador>1715628648001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>37.28</totalSinImpuestos>
<totalDescuento>37.28</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>37.28</baseImponible>
<valor>4.47</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>5.25</propina>
<importeTotal>47.0</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">CARCELEN</campoAdicional>
<campoAdicional nombre="Telefono">2803840</campoAdicional>
<campoAdicional nombre="Email">JORGELOPEZN@GMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:50 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo774759">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID413468" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature724927-SignedProperties931940">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>ib0RltOiw5isF777ZveB9ZTT5BE=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate11028621">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>jewUo6mcWULgl0ASSM/nTtsqMCE=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-15146" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>f3P2ROJTGtSvNNVTC1/5W0Dfxo8=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:50 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060291234567812

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060291234567812_Sign.xml

2018-10-28 21:12:50 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:17

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060301234567818

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060301234567818.xml

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060301234567818.xml

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:51 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:51 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature609072-SignedProperties1025636"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature609072-SignedProperties1025636"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature609072-SignedProperties1025636

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature609072-SignedProperties1025636

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature609072-SignedProperties1025636 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature609072-SignedProperties1025636"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:51-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-467415"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1499718"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1499718"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1499718

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1499718 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1499718">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060301234567818</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006030</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>LUIS;LARA</razonSocialComprador>
<identificacionComprador>1707273565001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>22.74</totalSinImpuestos>
<totalDescuento>22.75</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>22.74</baseImponible>
<valor>2.73</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.27</propina>
<importeTotal>27.74</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">EL INCA</campoAdicional>
<campoAdicional nombre="Telefono">3261011</campoAdicional>
<campoAdicional nombre="Email">LLARA6210@GMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:51 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo684827">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID208301" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature609072-SignedProperties1025636">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>hfKPG8mxqiVFWpXPMK1dfzdSyiw=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1499718">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>4R+QCORpU8XZqV3iTwoLo5mOHyQ=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-467415" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>BdWgw0i7ICGKU6DGnn6z2YyY2Q4=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:51 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060301234567818

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060301234567818_Sign.xml

2018-10-28 21:12:51 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:18

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060311234567813

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060311234567813.xml

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060311234567813.xml

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:52 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:52 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature792878-SignedProperties779764"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature792878-SignedProperties779764"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature792878-SignedProperties779764

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature792878-SignedProperties779764

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature792878-SignedProperties779764 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature792878-SignedProperties779764"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:52-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-980916"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1175979"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1175979"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1175979

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1175979 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1175979">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060311234567813</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006031</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>MARJORIE;ALVAREZ</razonSocialComprador>
<identificacionComprador>1704665239001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>76.32</totalSinImpuestos>
<totalDescuento>76.33</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>76.32</baseImponible>
<valor>9.16</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>14.52</propina>
<importeTotal>100.0</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">GONZALES SUARES</campoAdicional>
<campoAdicional nombre="Telefono">3818825</campoAdicional>
<campoAdicional nombre="Email">MAYITOALVAREZP@HOTMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:52 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo874946">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID370713" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature792878-SignedProperties779764">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>/L7AEvHLB4Bx4wl5Hs9Ofda31BQ=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1175979">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>O+pZbbaPQlJFRWY3e4MwPjemyvY=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-980916" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>rFf+OhP3dACrB0KXCo4dYACv1Js=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:52 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060311234567813

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060311234567813_Sign.xml

2018-10-28 21:12:52 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:19

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060321234567819

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060321234567819.xml

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060321234567819.xml

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:53 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:53 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature102337-SignedProperties860269"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature102337-SignedProperties860269"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature102337-SignedProperties860269

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature102337-SignedProperties860269

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature102337-SignedProperties860269 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature102337-SignedProperties860269"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:53-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-673796"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1546269"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1546269"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1546269

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1546269 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1546269">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060321234567819</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006032</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>SABRINA;SEVILLA</razonSocialComprador>
<identificacionComprador>1802337046001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>16.80</totalSinImpuestos>
<totalDescuento>16.80</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>16.80</baseImponible>
<valor>2.02</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>1.68</propina>
<importeTotal>20.5</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">QUITO</campoAdicional>
<campoAdicional nombre="Telefono">2265603</campoAdicional>
<campoAdicional nombre="Email">SABRINASEVILLA@YAHOO.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:53 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo517231">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID1001958" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature102337-SignedProperties860269">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>97X+BglYKwnA0KI1Hb3qam00j5c=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1546269">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Ir1/suCuRsw4unAT3X08FUaiRXY=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-673796" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>5zyk1Mj4ObKz8rnjdFrS0e0YpAY=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:53 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060321234567819

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060321234567819_Sign.xml

2018-10-28 21:12:53 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:20

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060331234567814

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060331234567814.xml

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060331234567814.xml

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:54 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:54 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature870733-SignedProperties136019"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature870733-SignedProperties136019"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature870733-SignedProperties136019

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature870733-SignedProperties136019

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature870733-SignedProperties136019 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature870733-SignedProperties136019"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:54-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-704134"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1197455"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1197455"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1197455

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1197455 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1197455">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060331234567814</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006033</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>CARLOS OSWALDO;MOLINA MUNOZ</razonSocialComprador>
<identificacionComprador>1705944716001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>55.72</totalSinImpuestos>
<totalDescuento>55.72</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>55.72</baseImponible>
<valor>6.69</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>5.57</propina>
<importeTotal>67.98</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">LA GASCA</campoAdicional>
<campoAdicional nombre="Telefono">2559671</campoAdicional>
<campoAdicional nombre="Email">CARLOS_MOLINA959@HOTMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:54 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo813129">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID729876" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature870733-SignedProperties136019">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>zbsxPZmK9d1byVIsmxzWpraTfyE=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1197455">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>/lDhdYiE8dXOkZLxliP9kSdnwVs=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-704134" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>gs7PjVg5koaX8OquPsgyTDKWCuE=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:54 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:54 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060331234567814

2018-10-28 21:12:55 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060331234567814_Sign.xml

2018-10-28 21:12:55 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:21

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060341234567811

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060341234567811.xml

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060341234567811.xml

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:56 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:56 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature441169-SignedProperties139651"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature441169-SignedProperties139651"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature441169-SignedProperties139651

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature441169-SignedProperties139651

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature441169-SignedProperties139651 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature441169-SignedProperties139651"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:56-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-391454"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1910365"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1910365"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1910365

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1910365 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1910365">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060341234567811</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006034</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>QUANYX;DD ECUADOR</razonSocialComprador>
<identificacionComprador>1792107725001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>208.94</totalSinImpuestos>
<totalDescuento>120.86</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>208.94</baseImponible>
<valor>25.07</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>20.89</propina>
<importeTotal>254.9</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">QUITO</campoAdicional>
<campoAdicional nombre="Telefono">26005060</campoAdicional>
<campoAdicional nombre="Email">FACTORACION@QUANYX.E</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:56 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo406038">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID27194" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature441169-SignedProperties139651">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>CmezPQrkkgMDzygUf0ypKiv2fZA=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1910365">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Ib49xGak42imYIO/fM9OsQ4uPNA=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-391454" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>WHzkPDKAF5EJ+4mfjrpD3UZowUQ=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:56 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060341234567811

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060341234567811_Sign.xml

2018-10-28 21:12:56 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:22

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060351234567815

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060351234567815.xml

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060351234567815.xml

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:57 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:57 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature964212-SignedProperties939761"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature964212-SignedProperties939761"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature964212-SignedProperties939761

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature964212-SignedProperties939761

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature964212-SignedProperties939761 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature964212-SignedProperties939761"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:57-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-913626"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1783413"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1783413"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1783413

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1783413 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1783413">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060351234567815</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006035</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>ANNABELL;BRAVO</razonSocialComprador>
<identificacionComprador>1307545416001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>24.98</totalSinImpuestos>
<totalDescuento>17.82</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>24.98</baseImponible>
<valor>3.00</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.50</propina>
<importeTotal>30.48</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">LAS CASAS</campoAdicional>
<campoAdicional nombre="Telefono">3201415</campoAdicional>
<campoAdicional nombre="Email">GESTIONINTEGRAL.ECU@GMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:57 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo477843">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID411168" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature964212-SignedProperties939761">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>PIOAhzR12m23rkIy9s8MWvOWu4M=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1783413">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>vsNrliZtwB1Sl7ClK29+TYaRH9Y=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-913626" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>HdK2JRcuVEzPfc9YR3+rV6kp1wE=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:57 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060351234567815

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060351234567815_Sign.xml

2018-10-28 21:12:57 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:23

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060361234567810

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060361234567810.xml

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060361234567810.xml

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:58 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:58 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature593022-SignedProperties81060"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature593022-SignedProperties81060"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature593022-SignedProperties81060

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature593022-SignedProperties81060

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature593022-SignedProperties81060 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature593022-SignedProperties81060"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:58-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-863347"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1297480"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1297480"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1297480

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1297480 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1297480">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060361234567810</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006036</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>MONSERRAT;MUNOZ</razonSocialComprador>
<identificacionComprador>1101895140001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>40.97</totalSinImpuestos>
<totalDescuento>40.98</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>40.97</baseImponible>
<valor>4.92</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>13.10</propina>
<importeTotal>58.99</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">QUITO TENIS</campoAdicional>
<campoAdicional nombre="Telefono">2439378</campoAdicional>
<campoAdicional nombre="Email">MONSE-MUNOZ@HOTMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:58 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo609960">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID121820" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature593022-SignedProperties81060">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>Hmb3SDWZ3pGnEzevt/rKt6ZmWEk=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1297480">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>maU/ZxDQnhxKJ3d8J8gHxt3i3FU=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-863347" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>3U4deqyDDdzejc9tY2FE/NlZsoM=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:58 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060361234567810

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060361234567810_Sign.xml

2018-10-28 21:12:58 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:24

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060371234567816

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060371234567816.xml

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060371234567816.xml

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:12:59 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:59 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature937183-SignedProperties93818"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature937183-SignedProperties93818"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature937183-SignedProperties93818

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature937183-SignedProperties93818

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature937183-SignedProperties93818 and Element was [etsi:SignedProperties: null]

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature937183-SignedProperties93818"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:12:59-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-987739"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1242641"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1242641"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1242641

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1242641 and Element was [ds:KeyInfo: null]

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1242641">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060371234567816</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006037</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>MARCELO;PAZMINO</razonSocialComprador>
<identificacionComprador>1710524487001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>47.94</totalSinImpuestos>
<totalDescuento>40.57</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>47.94</baseImponible>
<valor>5.75</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>8.31</propina>
<importeTotal>62.0</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">NAYON</campoAdicional>
<campoAdicional nombre="Telefono">2885688</campoAdicional>
<campoAdicional nombre="Email">MPAZMINOG@YAHOO.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:12:59 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo954295">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID148137" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature937183-SignedProperties93818">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>oE6emFRqAvoHbNFZWcbm1XK5xcE=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1242641">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>gmCV1hKZwyPZUcu1D72fTPFCoCE=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-987739" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>bYywtOOY0t/n+Jqv68byGFyys+E=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:12:59 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060371234567816

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060371234567816_Sign.xml

2018-10-28 21:12:59 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:25

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060381234567811

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060381234567811.xml

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060381234567811.xml

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-10-28 21:13:00 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:13:00 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature719972-SignedProperties751724"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature719972-SignedProperties751724"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature719972-SignedProperties751724

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature719972-SignedProperties751724

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature719972-SignedProperties751724 and Element was [etsi:SignedProperties: null]

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature719972-SignedProperties751724"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-10-28T21:13:00-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-349332"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate195706"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate195706"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate195706

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate195706 and Element was [ds:KeyInfo: null]

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate195706">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060381234567811</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006038</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>IMPORTADORA;NORTE</razonSocialComprador>
<identificacionComprador>1792826314001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>25.40</totalSinImpuestos>
<totalDescuento>25.41</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>25.40</baseImponible>
<valor>3.05</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.54</propina>
<importeTotal>30.99</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">EL BOSQUE</campoAdicional>
<campoAdicional nombre="Telefono">2991285</campoAdicional>
<campoAdicional nombre="Email">HENRYSEBAS7@GMAIL.COM</campoAdicional>
</infoAdicional>
</factura>

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-10-28 21:13:00 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo463874">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID328336" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature719972-SignedProperties751724">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>QjxjG0TYbVRBU6n3rzLnoTQRJw0=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate195706">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>SC2tS5F0Ij277CamvKZm4+Uw9vw=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-349332" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>m3zJgjE4tMWfM+JwHX2KEsVcqeU=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-10-28 21:13:00 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-10-28 21:13:00 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060381234567811

2018-10-28 21:13:01 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060381234567811_Sign.xml

2018-10-28 21:13:01 [INFO ] [com.extreme.media.init.start.main(start.java:497)] MENSAJE DEVUELTA35ARCHIVO NO CUMPLE ESTRUCTURA XMLSe encontró el siguiente error en la estructura del comprobante: cvc-complex-type.2.4.b: The content of element 'detalles' is not complete. One of '{detalle}' is expected..ERROR

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:37:03 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:37:03 [ERROR] [com.extreme.media.init.start.main(start.java:248)] ERROR:
org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «PROCESAR»
  Position: 988
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2103)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1836)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:512)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:374)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254)
	at com.extreme.media.postgress.Querys.QueryInfoFactDinamico(Querys.java:150)
	at com.extreme.media.init.start.main(start.java:242)

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:40:29 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:40:30 [ERROR] [com.extreme.media.init.start.main(start.java:248)] ERROR:
org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «PROCESAR»
  Position: 988
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2103)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1836)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:512)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:374)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254)
	at com.extreme.media.postgress.Querys.QueryInfoFactDinamico(Querys.java:151)
	at com.extreme.media.init.start.main(start.java:242)

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:42:18 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:42:19 [ERROR] [com.extreme.media.init.start.main(start.java:248)] ERROR:
org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «PROCESAR»
  Position: 988
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2103)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1836)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:512)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:374)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254)
	at com.extreme.media.postgress.Querys.QueryInfoFactDinamico(Querys.java:151)
	at com.extreme.media.init.start.main(start.java:242)

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:44:28 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:44:29 [ERROR] [com.extreme.media.init.start.main(start.java:248)] ERROR:
org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «PROCESAR»
  Position: 988
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2103)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1836)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:512)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:374)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254)
	at com.extreme.media.postgress.Querys.QueryInfoFactDinamico(Querys.java:151)
	at com.extreme.media.init.start.main(start.java:242)

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:28/10/2018

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:28102018

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-28-10

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-10-28

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-10-28 21:45:25 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-10-28 21:45:26 [INFO ] [com.extreme.media.init.start.main(start.java:244)] ARGUMENTOS:NOT NOT NOT 1234

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:05/11/2018

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:05112018

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-05-11

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-11-05

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-11-05 21:37:12 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-11-05 21:37:13 [INFO ] [com.extreme.media.init.start.main(start.java:244)] ARGUMENTOS:NOT NOT NOT 1234

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:07/11/2018

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:07112018

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-07-11

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-11-07

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:2

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-11-07 15:58:19 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-11-07 15:58:19 [ERROR] [com.extreme.media.init.start.main(start.java:248)] ERROR:
org.postgresql.util.PSQLException: ERROR: error de sintaxis en o cerca de «PROCESAR»
  Position: 988
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2103)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1836)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:512)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:374)
	at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254)
	at com.extreme.media.postgress.Querys.QueryInfoFactDinamico(Querys.java:151)
	at com.extreme.media.init.start.main(start.java:242)

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:07/11/2018

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:07112018

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2018-07-11

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2018-11-07

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362002

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:2

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2018-11-07 16:02:04 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:244)] ARGUMENTOS:NOT INICIAL NOT NOT

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:0

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060391234567817

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060391234567817.xml

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060391234567817.xml

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2018-11-07 16:02:05 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2018-11-07 16:02:06 [DEBUG] [es.mityc.javasign.i18n.I18nFactory.<clinit>(I18nFactory.java:129)] No hay fichero de configuración específico

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315OmitComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315WithComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2001/10/xml-exc-c14n#, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315ExclOmitComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2001/10/xml-exc-c14n#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315ExclWithComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2006/12/xml-c14n11, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer11_OmitComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2006/12/xml-c14n11#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer11_WithComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2000/09/xmldsig#base64, adsi.org.apache.xml.security.transforms.implementations.TransformBase64Decode)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315, adsi.org.apache.xml.security.transforms.implementations.TransformC14N)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14NWithComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2006/12/xml-c14n11, adsi.org.apache.xml.security.transforms.implementations.TransformC14N11)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2006/12/xml-c14n11#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14N11_WithComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2001/10/xml-exc-c14n#, adsi.org.apache.xml.security.transforms.implementations.TransformC14NExclusive)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2001/10/xml-exc-c14n#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14NExclusiveWithComments)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/1999/REC-xpath-19991116, adsi.org.apache.xml.security.transforms.implementations.TransformXPath)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2000/09/xmldsig#enveloped-signature, adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/1999/REC-xslt-19991116, adsi.org.apache.xml.security.transforms.implementations.TransformXSLT)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2002/04/xmldsig-filter2, adsi.org.apache.xml.security.transforms.implementations.TransformXPath2Filter)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2002/06/xmldsig-filter2, adsi.org.apache.xml.security.transforms.implementations.TransformXPath2Filter)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.providerInit(SignatureAlgorithm.java:375)] Init() called

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#dsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureDSA)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#dsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureDSA

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#rsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#rsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#hmac-sha1, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA1)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#hmac-sha1 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA1

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-md5, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSAMD5)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-md5 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSAMD5

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSARIPEMD160)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSARIPEMD160

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha256, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha256 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha384, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA384)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha384 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA384

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha512, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA512)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha512 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA512

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureECDSA$SignatureECDSASHA1)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureECDSA$SignatureECDSASHA1

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-md5, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacMD5)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-md5 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacMD5

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacRIPEMD160)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacRIPEMD160

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha256, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA256)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha256 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA256

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha384, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA384)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha384 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA384

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha512, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA512)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha512 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA512

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP: A simple resolver for requests to HTTP space

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverBigLocalFilesystem: A simple resolver for requests to the local file system with big files

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment: A simple resolver for requests of same-document URIs

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverXPointer: A simple resolver for requests of XPointer fragents

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.RSAKeyValueResolver: Can extract RSA public keys

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.DSAKeyValueResolver: Can extract DSA public keys

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509CertificateResolver: Can extract public keys from X509 certificates

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509SKIResolver: Uses an X509v3 SubjectKeyIdentifier extension to retrieve a certificate from the storages

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.RetrievalMethodResolver: Resolves keys and certificates using ResourceResolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509SubjectNameResolver: Uses an X509 SubjectName to retrieve a certificate from the storages

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509IssuerSerialResolver: Uses an X509 IssuerName and IssuerSerial to retrieve a certificate from the storages

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:365)] Now I try to bind prefixes:

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind ds to http://www.w3.org/2000/09/xmldsig#

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind xenc to http://www.w3.org/2001/04/xmlenc#

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind experimental to http://www.xmlsecurity.org/experimental#

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind dsig-xpath-old to http://www.w3.org/2002/04/xmldsig-filter2

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind dsig-xpath to http://www.w3.org/2002/06/xmldsig-filter2

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind ec to http://www.w3.org/2001/10/xml-exc-c14n#

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind xx to http://www.nue.et-inf.uni-siegen.de/~geuer-pollmann/#xpathFilter

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:387)] XX_init                             253 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:388)]   XX_prng                           0 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:389)]   XX_parsing                        12 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:390)]   XX_configure_i18n                 7 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:391)]   XX_configure_reg_c14n             22 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:392)]   XX_configure_reg_jcemapper        9 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:393)]   XX_configure_reg_keyInfo          9 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:394)]   XX_configure_reg_keyResolver      22 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:395)]   XX_configure_reg_prefixes         9 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:396)]   XX_configure_reg_resourceresolver 36 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:397)]   XX_configure_reg_sigalgos         99 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:398)]   XX_configure_reg_transforms       22 ms

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2018-11-07 16:02:06 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-11-07 16:02:06 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP.engineCanResolve(ResolverDirectHTTP.java:261)] quick fail for empty URIs and local ones

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverBigLocalFilesystem

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature231069-SignedProperties491703"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature231069-SignedProperties491703"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature231069-SignedProperties491703

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature231069-SignedProperties491703

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature231069-SignedProperties491703 and Element was [etsi:SignedProperties: null]

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature231069-SignedProperties491703"><etsi:SignedSignatureProperties><etsi:SigningTime>2018-11-07T16:02:06-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-640351"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1462347"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1462347"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1462347

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1462347 and Element was [ds:KeyInfo: null]

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1462347">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>2</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060391234567817</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006039</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>LUCIANA;LENK</razonSocialComprador>
<identificacionComprador>1715427355001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>20.68</totalSinImpuestos>
<totalDescuento>25.20</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>20.68</baseImponible>
<valor>2.48</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>2.07</propina>
<importeTotal>25.23</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">ELOY ALFARO N39-190 Y MANUEL GUZMAN</campoAdicional>
<campoAdicional nombre="Telefono">2250101</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2018-11-07 16:02:06 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo383947">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID144791" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature231069-SignedProperties491703">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>soAmpgySky3fEQyTB1IgfMWy/L8=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1462347">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>4Clgmsmo1837BGUBvqFBEUaXD3Y=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-640351" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>jcS/euq8PZZInnrc24PZ2/iN/fs=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2018-11-07 16:02:06 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2018-11-07 16:02:06 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060391234567817

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:125)] **INICIANDO APLICACION FACTURACION ELECTRONICA**

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:127)] FECHA UNO:03/03/2020

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:128)] FECHA DOS:03032020

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:129)] FECHA TRES:2020-03-03

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:130)] FECHA CUATRO:2020-03-03

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:158)] **LEYENDO CONFIGURACIONES**

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:175)] **NUMERO DE FIRMAS**7

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1712715463001

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362001

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362003

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362004

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362005

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362006

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:181)] Firma:1718921362007

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:189)] Configuración:pathLogo:C:\FAC\assets\logo\GuabaEstudioTranparente.png

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:190)] Configuración:ambiente:1

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:191)] Configuración:tipoEmision:1

2020-03-03 19:11:02 [INFO ] [com.extreme.media.init.start.main(start.java:192)] Configuración:waitTime:1000

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:244)] ARGUMENTOS:NOT INICIAL NOT NOT

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:259)] ORDEN DE ENVIO:0

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:262)] PROCESANDO:1010201801171892136200110010010000060501234567817

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:278)] TAMANO:0

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:295)] C:\FAC\xml\1010201801171892136200110010010000060501234567817.xml

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:319)] UBICACION XML:C:\FAC\xml\1010201801171892136200110010010000060501234567817.xml

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:323)] VALIDANDO QUE FIRMA SEA LA QUE SE VA INGRESAR

2020-03-03 19:11:04 [INFO ] [com.extreme.media.init.start.main(start.java:327)] FIRMA:C:\FAC\sign\edison_xavier_moreta_escobar.p12----ekzph3XMyO6OcfS+n9vPAA==----C:\FAC\assets\logo\GuabaEstudioTranparente.png

2020-03-03 19:11:04 [DEBUG] [es.mityc.javasign.i18n.I18nFactory.<clinit>(I18nFactory.java:129)] No hay fichero de configuración específico

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315OmitComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315WithComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2001/10/xml-exc-c14n#, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315ExclOmitComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2001/10/xml-exc-c14n#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer20010315ExclWithComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2006/12/xml-c14n11, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer11_OmitComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:194)] Canonicalizer.register(http://www.w3.org/2006/12/xml-c14n11#WithComments, adsi.org.apache.xml.security.c14n.implementations.Canonicalizer11_WithComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2000/09/xmldsig#base64, adsi.org.apache.xml.security.transforms.implementations.TransformBase64Decode)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315, adsi.org.apache.xml.security.transforms.implementations.TransformC14N)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14NWithComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2006/12/xml-c14n11, adsi.org.apache.xml.security.transforms.implementations.TransformC14N11)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2006/12/xml-c14n11#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14N11_WithComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2001/10/xml-exc-c14n#, adsi.org.apache.xml.security.transforms.implementations.TransformC14NExclusive)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2001/10/xml-exc-c14n#WithComments, adsi.org.apache.xml.security.transforms.implementations.TransformC14NExclusiveWithComments)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/1999/REC-xpath-19991116, adsi.org.apache.xml.security.transforms.implementations.TransformXPath)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2000/09/xmldsig#enveloped-signature, adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/TR/1999/REC-xslt-19991116, adsi.org.apache.xml.security.transforms.implementations.TransformXSLT)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2002/04/xmldsig-filter2, adsi.org.apache.xml.security.transforms.implementations.TransformXPath2Filter)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:222)] Transform.register(http://www.w3.org/2002/06/xmldsig-filter2, adsi.org.apache.xml.security.transforms.implementations.TransformXPath2Filter)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.providerInit(SignatureAlgorithm.java:375)] Init() called

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#dsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureDSA)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#dsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureDSA

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#rsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#rsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2000/09/xmldsig#hmac-sha1, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA1)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2000/09/xmldsig#hmac-sha1 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA1

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-md5, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSAMD5)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-md5 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSAMD5

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSARIPEMD160)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSARIPEMD160

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha256, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha256 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA256

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha384, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA384)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha384 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA384

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#rsa-sha512, adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA512)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#rsa-sha512 adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA512

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1, adsi.org.apache.xml.security.algorithms.implementations.SignatureECDSA$SignatureECDSASHA1)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1 adsi.org.apache.xml.security.algorithms.implementations.SignatureECDSA$SignatureECDSASHA1

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-md5, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacMD5)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-md5 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacMD5

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacRIPEMD160)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacRIPEMD160

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha256, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA256)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha256 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA256

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha384, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA384)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha384 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA384

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:276)] SignatureAlgorithm.register(http://www.w3.org/2001/04/xmldsig-more#hmac-sha512, adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA512)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.register(SignatureAlgorithm.java:396)] Try to register http://www.w3.org/2001/04/xmldsig-more#hmac-sha512 adsi.org.apache.xml.security.algorithms.implementations.IntegrityHmac$IntegrityHmacSHA512

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP: A simple resolver for requests to HTTP space

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverBigLocalFilesystem: A simple resolver for requests to the local file system with big files

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment: A simple resolver for requests of same-document URIs

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:309)] Register Resolver: adsi.org.apache.xml.security.utils.resolver.implementations.ResolverXPointer: A simple resolver for requests of XPointer fragents

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.RSAKeyValueResolver: Can extract RSA public keys

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.DSAKeyValueResolver: Can extract DSA public keys

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509CertificateResolver: Can extract public keys from X509 certificates

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509SKIResolver: Uses an X509v3 SubjectKeyIdentifier extension to retrieve a certificate from the storages

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.RetrievalMethodResolver: Resolves keys and certificates using ResourceResolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509SubjectNameResolver: Uses an X509 SubjectName to retrieve a certificate from the storages

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:348)] Register Resolver: adsi.org.apache.xml.security.keys.keyresolver.implementations.X509IssuerSerialResolver: Uses an X509 IssuerName and IssuerSerial to retrieve a certificate from the storages

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:365)] Now I try to bind prefixes:

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind ds to http://www.w3.org/2000/09/xmldsig#

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind xenc to http://www.w3.org/2001/04/xmlenc#

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind experimental to http://www.xmlsecurity.org/experimental#

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind dsig-xpath-old to http://www.w3.org/2002/04/xmldsig-filter2

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind dsig-xpath to http://www.w3.org/2002/06/xmldsig-filter2

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind ec to http://www.w3.org/2001/10/xml-exc-c14n#

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:375)] Now I try to bind xx to http://www.nue.et-inf.uni-siegen.de/~geuer-pollmann/#xpathFilter

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:387)] XX_init                             141 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:388)]   XX_prng                           0 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:389)]   XX_parsing                        16 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:390)]   XX_configure_i18n                 16 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:391)]   XX_configure_reg_c14n             31 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:392)]   XX_configure_reg_jcemapper        0 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:393)]   XX_configure_reg_keyInfo          0 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:394)]   XX_configure_reg_keyResolver      16 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:395)]   XX_configure_reg_prefixes         0 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:396)]   XX_configure_reg_resourceresolver 15 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:397)]   XX_configure_reg_sigalgos         31 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.Init.init(Init.java:398)]   XX_configure_reg_transforms       16 ms

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#sha1

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:103)] Create URI "http://www.w3.org/2000/09/xmldsig#enveloped-signature" class "class adsi.org.apache.xml.security.transforms.implementations.TransformEnvelopedSignature"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.transforms.Transform.<init>(Transform.java:105)] The NodeList is null

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.transforms.Transforms.addTransform(Transforms.java:222)] Transforms.addTransform(http://www.w3.org/2000/09/xmldsig#enveloped-signature)

2020-03-03 19:11:04 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1003)] Certificado emisor obtenido del X500: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2020-03-03 19:11:04 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1008)] Emisor decodificado en UTF8:CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2020-03-03 19:11:04 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1017)] Certificado emisor: CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC

2020-03-03 19:11:04 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1021)] Charsets disponibles encontrados: 170

2020-03-03 19:11:04 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en ISO-2022-CN
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.ISO2022_CN.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2020-03-03 19:11:04 [ERROR] [es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1032)] No se puede codificar la cadena en x-JISAutoDetect
java.lang.UnsupportedOperationException
	at sun.nio.cs.ext.JISAutoDetect.newEncoder(Unknown Source)
	at java.lang.StringCoding.encode(Unknown Source)
	at java.lang.String.getBytes(Unknown Source)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.addXades(FirmaXML.java:1029)
	at es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:512)
	at core.GenericXmlSignature.execute(GenericXmlSignature.java:85)
	at core.XAdESBESSignature.firmar(XAdESBESSignature.java:42)
	at com.extreme.media.init.start.main(start.java:331)

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.SignatureAlgorithm.buildSigner(SignatureAlgorithm.java:133)] Create URI "http://www.w3.org/2000/09/xmldsig#rsa-sha1" class "class adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA$SignatureRSASHA1"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.JCEMapper.translateURItoJCEID(JCEMapper.java:101)] Request for URI http://www.w3.org/2000/09/xmldsig#rsa-sha1

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.algorithms.implementations.SignatureBaseRSA.<init>(SignatureBaseRSA.java:67)] Created SignatureRSA using SHA1withRSA

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverDirectHTTP.engineCanResolve(ResolverDirectHTTP.java:261)] quick fail for empty URIs and local ones

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverBigLocalFilesystem

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature827707-SignedProperties629607"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Signature827707-SignedProperties629607"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Signature827707-SignedProperties629607

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID Signature827707-SignedProperties629607

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Signature827707-SignedProperties629607 and Element was [etsi:SignedProperties: null]

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <etsi:SignedProperties xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature827707-SignedProperties629607"><etsi:SignedSignatureProperties><etsi:SigningTime>2020-03-03T19:11:04-05:00</etsi:SigningTime><etsi:SigningCertificate><etsi:Cert><etsi:CertDigest><ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod><ds:DigestValue>42Xc7+3sDMBwJ0j3uJVguqqKXoU=</ds:DigestValue></etsi:CertDigest><etsi:IssuerSerial><ds:X509IssuerName>CN=AC BANCO CENTRAL DEL ECUADOR,L=QUITO,OU=ENTIDAD DE CERTIFICACION DE INFORMACION-ECIBCE,O=BANCO CENTRAL DEL ECUADOR,C=EC</ds:X509IssuerName><ds:X509SerialNumber>1484637838</ds:X509SerialNumber></etsi:IssuerSerial></etsi:Cert></etsi:SigningCertificate></etsi:SignedSignatureProperties><etsi:SignedDataObjectProperties><etsi:DataObjectFormat ObjectReference="#Reference-ID-85600"><etsi:Description>contenido comprobante</etsi:Description><etsi:MimeType>text/xml</etsi:MimeType></etsi:DataObjectFormat></etsi:SignedDataObjectProperties></etsi:SignedProperties>

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1784214"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#Certificate1784214"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID Certificate1784214

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementById(IdResolver.java:99)] I could find an Element using the simple getElementByIdType method: ds:KeyInfo

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID Certificate1784214 and Element was [ds:KeyInfo: null]

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Certificate1784214">
<ds:X509Data>
<ds:X509Certificate>
MIIJnTCCB4WgAwIBAgIEWH3GjjANBgkqhkiG9w0BAQsFADCBoTELMAkGA1UEBhMCRUMxIjAgBgNV
BAoTGUJBTkNPIENFTlRSQUwgREVMIEVDVUFET1IxNzA1BgNVBAsTLkVOVElEQUQgREUgQ0VSVElG
SUNBQ0lPTiBERSBJTkZPUk1BQ0lPTi1FQ0lCQ0UxDjAMBgNVBAcTBVFVSVRPMSUwIwYDVQQDExxB
QyBCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMB4XDTE3MDIwMTE4MDMzNFoXDTE5MDIwMTE4MzMz
NFowgbQxCzAJBgNVBAYTAkVDMSIwIAYDVQQKExlCQU5DTyBDRU5UUkFMIERFTCBFQ1VBRE9SMTcw
NQYDVQQLEy5FTlRJREFEIERFIENFUlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04tRUNJQkNFMQ4w
DAYDVQQHEwVRVUlUTzE4MBEGA1UEBRMKMDAwMDE5NzM5MzAjBgNVBAMTHEVESVNPTiBYQVZJRVIg
TU9SRVRBIEVTQ09CQVIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDlQl0YaLCxzAo/
eRHOo6rmsveh3K9aiFiu37lEpnIC39CcOv1Jf0IjxmCK/HPaUWisubnU9csX2kpsnUDsAvdLDaOI
5GHJNg5/aXX9zLZ+CnHyjN0WU4hyHo8CUuBr7O/ZAmG9RRU39K7089i2NVKDlo3cL/QOAeWFoq3P
YhCGVU0bLt1kKGMclbhlBEyzlCIjX7laoEFS5m9NG2ziwz4yAtpriurtp2rSUoPPizJNIT6hwGbi
Yr9iUeC01A3vMUN60bWdfiLp0v6TOPCO2IlaHTqYeKwPOBYx6Oc9kw1aKqdFtPmkUrcA4tOVO+Gj
+UEDuF6H/8Lh7QZbBokv4KB1AgMBAAGjggTGMIIEwjALBgNVHQ8EBAMCB4AwZgYDVR0gBF8wXTBb
BgsrBgEEAYKoOwIBATBMMEoGCCsGAQUFBwIBFj5odHRwOi8vd3d3LmVjaS5iY2UuZWMvcG9saXRp
Y2EtY2VydGlmaWNhZG8vcGVyc29uYS1uYXR1cmFsLnBkZjCBkQYIKwYBBQUHAQEEgYQwgYEwPgYI
KwYBBQUHMAGGMmh0dHA6Ly9vY3NwLmVjaS5iY2UuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9v
Y3NwMD8GCCsGAQUFBzABhjNodHRwOi8vb2NzcDEuZWNpLmJjZS5lYy9lamJjYS9wdWJsaWN3ZWIv
c3RhdHVzL29jc3AwGgYKKwYBBAGCqDsDAQQMEwoxNzE4OTIxMzYyMB0GCisGAQQBgqg7AwIEDxMN
RURJU09OIFhBVklFUjAWBgorBgEEAYKoOwMDBAgTBk1PUkVUQTAXBgorBgEEAYKoOwMEBAkTB0VT
Q09CQVIwKQYKKwYBBAGCqDsDBwQbExlDVU1CQVlBIEJBUlJJTyBTQU5UQSBJTkVTMBkGCisGAQQB
gqg7AwgECxMJMDIyODkwMDExMBUGCisGAQQBgqg7AwkEBxMFUXVpdG8wFwYKKwYBBAGCqDsDDAQJ
EwdFQ1VBRE9SMB0GCisGAQQBgqg7AwsEDxMNMTcxODkyMTM2MjAwMTAgBgorBgEEAYKoOwMzBBIT
EFNPRlRXQVJFLUFSQ0hJVk8wHgYDVR0RBBcwFYETZWRpeGF2aUBob3RtYWlsLmNvbTCCAd8GA1Ud
HwSCAdYwggHSMIIBzqCCAcqgggHGhoHVbGRhcDovL2JjZXFsZGFwc3VicDEuYmNlLmVjL2NuPUNS
TDM5OCxjbj1BQyUyMEJBTkNPJTIwQ0VOVFJBTCUyMERFTCUyMEVDVUFET1IsbD1RVUlUTyxvdT1F
TlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9OJTIwREUlMjBJTkZPUk1BQ0lPTi1FQ0lCQ0Usbz1C
QU5DTyUyMENFTlRSQUwlMjBERUwlMjBFQ1VBRE9SLGM9RUM/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlhjRodHRwOi8vd3d3LmVjaS5iY2UuZWMvQ1JML2VjaV9iY2VfZWNfY3JsZmlsZWNv
bWIuY3JspIG1MIGyMQswCQYDVQQGEwJFQzEiMCAGA1UEChMZQkFOQ08gQ0VOVFJBTCBERUwgRUNV
QURPUjE3MDUGA1UECxMuRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OLUVD
SUJDRTEOMAwGA1UEBxMFUVVJVE8xJTAjBgNVBAMTHEFDIEJBTkNPIENFTlRSQUwgREVMIEVDVUFE
T1IxDzANBgNVBAMTBkNSTDM5ODArBgNVHRAEJDAigA8yMDE3MDIwMTE4MDMzNFqBDzIwMTkwMjAx
MTgzMzM0WjAfBgNVHSMEGDAWgBQY+fD75jIcmWY5KsqLsml9SSe/zjAdBgNVHQ4EFgQUk7QFVYa4
JrOLImpu9IQdQBaDs2YwCQYDVR0TBAIwADAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIEsDANBgkq
hkiG9w0BAQsFAAOCAgEARCTmSV1A+Z7riRiZ3hjR5PPA8VrtkLpHwITyG7tV0SIFWEBCpO6lKBdy
PZAeytqTgecMxuPTEL/43rja1hdV5dXg1pT8uyJKyTtsYfPJbzqpsmZts7io9mjgXLRVlRh+CdSz
ltEVDW9utk3pb0B03tWRmlh4fxbyTr1GVbnwXu1ZAGnOZb3XhcwY2XiRXbuuso8QPWRAFn/5uVwK
FfhKXydmCAtuGz/UKe+hSJNRmmUNLao4LwfcEMwIWob3g9VBlgfFZbNzoUpbn/zUqpAG8QwzGW3T
1Ksylj3sJa8SWPIY3hnx5dDqfPlUmVgFjYFXLmCuMvzAA1CeP9Bi8qjNOPyxPdSfKyAJ9EsNwRa7
iEfq9YgTmEMSyUuHN9+qO2hvG6fOTaWbpYoydpZIbW5LER/MTFIBDjKHxjnLWsJvB2APWuy760Ao
c0b2LjdUPGFAeWBl6+WiUbTuMgf0szacKN0dy1NxB/bu/Qc/IsCjY8JKrb+coGMVURPiEvMfdiUe
LxzmfcFBBjBDBa1biYE9toIMYuwv9IaPvOhZMKn7oH06bcCzRUCMw+/zWYoD5kUPdIt9vxZu+RT0
9TtKbhKdeAvogED5A8Xo9AocjntKDzh48sr4Z1VZLC9Fdv+Oshp7sTnk/Pe2d2z4bRczHockjOob
OtQiQOzH6OVvPPXuRGo=
</ds:X509Certificate>
</ds:X509Data>
<ds:KeyValue>
<ds:RSAKeyValue>
<ds:Modulus>
5UJdGGiwscwKP3kRzqOq5rL3odyvWohYrt+5RKZyAt/QnDr9SX9CI8Zgivxz2lForLm51PXLF9pK
bJ1A7AL3Sw2jiORhyTYOf2l1/cy2fgpx8ozdFlOIch6PAlLga+zv2QJhvUUVN/Su9PPYtjVSg5aN
3C/0DgHlhaKtz2IQhlVNGy7dZChjHJW4ZQRMs5QiI1+5WqBBUuZvTRts4sM+MgLaa4rq7adq0lKD
z4syTSE+ocBm4mK/YlHgtNQN7zFDetG1nX4i6dL+kzjwjtiJWh06mHisDzgWMejnPZMNWiqnRbT5
pFK3AOLTlTvho/lBA7heh//C4e0GWwaJL+CgdQ==
</ds:Modulus>
<ds:Exponent>AQAB</ds:Exponent>
</ds:RSAKeyValue>
</ds:KeyValue>
</ds:KeyInfo>

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:158)] I was asked to create a ResourceResolver and got 0

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:159)]  extra resolvers to my existing 4 system-wide resolvers

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.ResourceResolver.getInstance(ResourceResolver.java:118)] check resolvability by class adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineCanResolve(ResolverFragment.java:132)] State I can resolve reference: "#comprobante"

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdType(IdResolver.java:151)] getElementByIdType() Search for ID comprobante

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.IdResolver.getElementByIdUsingDOM(IdResolver.java:138)] getElementByIdUsingDOM() Search for ID comprobante

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.resolver.implementations.ResolverFragment.engineResolve(ResolverFragment.java:96)] Try to catch an Element with ID comprobante and Element was [factura: null]

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.ElementProxy.<init>(ElementProxy.java:195)] setElement("ds:Transform", "null")

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:59)] Pre-digested input:

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.DigesterOutputStream.write(DigesterOutputStream.java:64)] <factura id="comprobante" version="1.0.0">
<infoTributaria>
<ambiente>1</ambiente>
<tipoEmision>1</tipoEmision>
<razonSocial>EDISON MORETA</razonSocial>
<nombreComercial>EDISON MORETA</nombreComercial>
<ruc>1718921362001</ruc>
<claveAcceso>1010201801171892136200110010010000060501234567817</claveAcceso>
<codDoc>01</codDoc>
<estab>001</estab>
<ptoEmi>001</ptoEmi>
<secuencial>000006050</secuencial>
<dirMatriz>AV. ILALO Y SIMON BOLIVAR</dirMatriz>
</infoTributaria>
<infoFactura>
<fechaEmision>10/10/2018</fechaEmision>
<dirEstablecimiento>AV. ILALO Y SIMON BOLIVAR</dirEstablecimiento>
<obligadoContabilidad>SI</obligadoContabilidad>
<tipoIdentificacionComprador>04</tipoIdentificacionComprador>
<razonSocialComprador>LUIS;GUERRERO</razonSocialComprador>
<identificacionComprador>0201481223001</identificacionComprador>
<direccionComprador> </direccionComprador>
<totalSinImpuestos>39.32</totalSinImpuestos>
<totalDescuento>25.41</totalDescuento>
<totalConImpuestos>
<totalImpuesto>
<codigo>2</codigo>
<codigoPorcentaje>2</codigoPorcentaje>
<baseImponible>39.32</baseImponible>
<valor>4.72</valor>
</totalImpuesto>
</totalConImpuestos>
<propina>3.93</propina>
<importeTotal>47.97</importeTotal>
<moneda>DOLAR</moneda>
</infoFactura>
<detalles>
</detalles>
<infoAdicional>
<campoAdicional nombre="Direccion">LA PRENSA</campoAdicional>
<campoAdicional nombre="Telefono">2296540</campoAdicional>
<campoAdicional nombre="Email">edixavi@hotmail.com</campoAdicional>
</infoAdicional>
</factura>

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:68)] Canonicalized SignedInfo:

2020-03-03 19:11:04 [DEBUG] [adsi.org.apache.xml.security.utils.SignerOutputStream.write(SignerOutputStream.java:73)] <ds:SignedInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:etsi="http://uri.etsi.org/01903/v1.3.2#" Id="Signature-SignedInfo859985">
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"></ds:CanonicalizationMethod>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"></ds:SignatureMethod>
<ds:Reference Id="SignedPropertiesID7293" Type="http://uri.etsi.org/01903#SignedProperties" URI="#Signature827707-SignedProperties629607">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>l71U0zE13rudv5ljSOEwpk2Tifw=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#Certificate1784214">
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>t6OpP+41e6I0rUhnK95LBsO5L8g=</ds:DigestValue>
</ds:Reference>
<ds:Reference Id="Reference-ID-85600" URI="#comprobante">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"></ds:Transform>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"></ds:DigestMethod>
<ds:DigestValue>DtjIA9n31C8GgCTmJiio3tVu6mk=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>

2020-03-03 19:11:05 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:567)] Se realiza XADES-T  -> false

2020-03-03 19:11:05 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:591)] Se realiza XADES-C ->false

2020-03-03 19:11:05 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:786)] Se realiza XADES-X -> false

2020-03-03 19:11:05 [DEBUG] [es.mityc.firmaJava.libreria.xades.FirmaXML.signFile(FirmaXML.java:789)] Se realiza XADES-XL ->  false

2020-03-03 19:11:05 [INFO ] [com.extreme.media.init.start.main(start.java:333)] ARCHIVO FIRMADO1010201801171892136200110010010000060501234567817

2020-03-03 19:11:05 [INFO ] [com.extreme.media.init.start.main(start.java:362)] ARCHIVO ENVIADO:1010201801171892136200110010010000060501234567817_Sign.xml
